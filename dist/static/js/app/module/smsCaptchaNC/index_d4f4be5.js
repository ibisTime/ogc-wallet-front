"use strict";var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};define("js/app/module/smsCaptchaNC/index",["js/lib/jquery-2.1.4","js/app/util/dialog","js/app/interface/GeneralCtr","js/app/controller/base"],function(e,n,t,i){function o(){var n=e("#"+d.id);return n.prop("disabled",!0),t.sendCaptcha(d.sendCode,{bizType:d.bizType,mobile:e("#"+d.mobile).val(),interCode:e("#"+d.interCode).attr("value"),ncToken:d.ncToken,sessionId:d.sessionId,sig:d.sig,scene:d.scene}).then(function(){var t=60;if("email"===d.mobile||"email-find"===d.mobile)i.showMsg(""+i.getText("验证码已通过邮件的形式发送到您的邮箱里",r));else switch(r){case"ZH_CN":i.showMsg("验证码已通过短信的形式发送到"+e("#"+d.mobile).val()+"手机上");break;case"EN":i.showMsg("The verification code has been sent to the "+e("#"+d.mobile).val()+" phone via SMS");break;case"KO":i.showMsg("인증번호가 "+e("#"+d.mobile).val()+"핸드폰에 문자로 발송되었습니다.")}a=window.setInterval(function(){t>0?n.text(t--+"s"):n.text(i.getText("获取验证码",r)).prop("disabled",!1)},1e3)},function(){n.text(i.getText("获取验证码",r)).prop("disabled",!1)})}var s,a,r=i.getUrlParam("lang")||"ZH_CN",c='<div class="popup ncCaptchaPopup hidden" id="ncCaptchaPopup">\n	<div class="popup-content">\n		<div id="your-dom-id"></div>\n	</div>\n	<div class="nc-wh wp100"></div>\n</div>\n',d={},p={init:function(n){this.options=e.extend({},this.defaultOptions,n),d=this.options;e(c);e("body").append(c);var t=this;e("#"+this.options.id).off("click").on("click",function(e){e.stopPropagation(),e.preventDefault(),t.options.checkInfo()&&t.showCont()})},defaultOptions:{id:"getVerification",mobile:"mobile",interCode:"interCode",checkInfo:function(){return e("#"+this.mobile).valid()},sendCode:"805953"},showCont:function(){if(this.hasCont()){var n=e("#ncCaptchaPopup");s&&s.reset(),n.removeClass("hidden")}return this},hasCont:function(){return e("#ncCaptchaPopup").length?!0:!1},hideCont:function(){if(this.hasCont()){var n=e("#ncCaptchaPopup");setTimeout(function(){n.addClass("hidden"),o()},800)}}};return p});