define("js/app/util/dialog",["require"],function(t){function t(o){var i=e[o],a="exports";return"object"==typeof i?i:(i[a]||(i[a]={},i[a]=i.call(i[a],t,i[a],i)||i[a]),i[a])}function o(t,o){e[t]=o}var i="button{outline:0!important}.ui-dialog{*zoom:1;_float:left;position:relative;background-color:#FFF;border:1px solid #999;-webkit-border-radius:6px;border-radius:6px;outline:0;-webkit-background-clip:padding-box;background-clip:padding-box;font-family:Helvetica,arial,sans-serif;font-size:.28rem;line-height:1.428571429;color:#333;opacity:0;-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform .15s ease-in-out,opacity .15s ease-in-out;-webkit-transition:opacity .15s ease-in-out,-webkit-transform .15s ease-in-out;transition:opacity .15s ease-in-out,-webkit-transform .15s ease-in-out;-moz-transition:transform .15s ease-in-out,opacity .15s ease-in-out,-moz-transform .15s ease-in-out;transition:transform .15s ease-in-out,opacity .15s ease-in-out;transition:transform .15s ease-in-out,opacity .15s ease-in-out,-webkit-transform .15s ease-in-out,-moz-transform .15s ease-in-out;WORD-WRAP:break-word;TABLE-LAYOUT:fixed;word-break:break-all}.ui-popup-show .ui-dialog{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.ui-popup-focus .ui-dialog{-webkit-box-shadow:0 0 8px rgba(0,0,0,.1);box-shadow:0 0 8px rgba(0,0,0,.1)}.ui-popup-modal .ui-dialog{-webkit-box-shadow:0 0 8px rgba(0,0,0,.1),0 0 256px rgba(255,255,255,.3);box-shadow:0 0 8px rgba(0,0,0,.1),0 0 256px rgba(255,255,255,.3)}.ui-dialog-grid{width:auto;margin:0;border:0 none;border-collapse:collapse;border-spacing:0;background:transparent}.ui-dialog-header,.ui-dialog-body,.ui-dialog-footer{padding:0;border:0 none;text-align:left;background:transparent}.ui-dialog-header{white-space:nowrap;border-bottom:1px solid #E5E5E5}.ui-dialog-close{position:relative;_position:absolute;float:right;top:13px;right:13px;_height:26px;padding:0 4px;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #FFF;opacity:.2;filter:alpha(opacity=20);cursor:pointer;background:transparent;_background:#FFF;border:0;-webkit-appearance:none}.ui-dialog-close:hover,.ui-dialog-close:focus{color:#000;text-decoration:none;cursor:pointer;outline:0;opacity:.5;filter:alpha(opacity=50)}.ui-dialog-title{margin:0;line-height:1.428571429;min-height:16.428571429px;padding:15px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700;cursor:default}.ui-dialog-body{padding:20px;text-align:center}.ui-dialog-content{display:inline-block;position:relative;vertical-align:middle;*zoom:1;*display:inline;text-align:left}.ui-dialog-footer{padding:0 20px 20px}.ui-dialog-statusbar{float:left;margin-right:20px;padding:6px 0;line-height:1.428571429;font-size:14px;color:#888;white-space:nowrap}.ui-dialog-statusbar label:hover{color:#333}.ui-dialog-statusbar input,.ui-dialog-statusbar .label{vertical-align:middle}.ui-dialog-button{white-space:nowrap}.ui-dialog-footer button+button{margin-bottom:0;float:right}.ui-dialog-footer button{width:auto;overflow:visible;display:inline-block;padding:6px 12px;_margin-left:5px;font-size:14px;font-weight:400;line-height:1.428571429;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;-webkit-border-radius:4px;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;margin:0 .3rem}.ui-dialog-footer button:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.ui-dialog-footer button:hover,.ui-dialog-footer button:focus{color:#333;text-decoration:none}.ui-dialog-footer button:active{background-image:none;outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.ui-dialog-footer button[disabled]{pointer-events:none;cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}.ui-dialog-footer button{color:#333;background-color:#fff;border-color:#ccc}.ui-dialog-footer button:hover,.ui-dialog-footer button:focus,.ui-dialog-footer button:active{color:#333;background-color:#ebebeb;border-color:#adadad}.ui-dialog-footer button:active{background-image:none}.ui-dialog-footer button[disabled],.ui-dialog-footer button[disabled]:hover,.ui-dialog-footer button[disabled]:focus,.ui-dialog-footer button[disabled]:active{background-color:#fff;border-color:#ccc}.ui-dialog-footer button.ui-dialog-autofocus{color:#fff;background-color:#2871FB;border-color:#2871FB}.ui-dialog-footer button.ui-dialog-autofocus:hover,.ui-dialog-footer button.ui-dialog-autofocus:focus,.ui-dialog-footer button.ui-dialog-autofocus:active{color:#fff;background-color:#2871FB;border-color:#2871FB}.ui-dialog-footer button.ui-dialog-autofocus:active{background-image:none}.ui-popup-top-left .ui-dialog,.ui-popup-top .ui-dialog,.ui-popup-top-right .ui-dialog{top:-8px}.ui-popup-bottom-left .ui-dialog,.ui-popup-bottom .ui-dialog,.ui-popup-bottom-right .ui-dialog{top:8px}.ui-popup-left-top .ui-dialog,.ui-popup-left .ui-dialog,.ui-popup-left-bottom .ui-dialog{left:-8px}.ui-popup-right-top .ui-dialog,.ui-popup-right .ui-dialog,.ui-popup-right-bottom .ui-dialog{left:8px}.ui-dialog-arrow-a,.ui-dialog-arrow-b{position:absolute;display:none;width:0;height:0;overflow:hidden;_color:#FF3FFF;_-webkit-filter:chroma(color=#FF3FFF);_ filter:chroma(color=#FF3FFF);border:8px dashed transparent}.ui-popup-follow .ui-dialog-arrow-a,.ui-popup-follow .ui-dialog-arrow-b{display:block}.ui-popup-top-left .ui-dialog-arrow-a,.ui-popup-top .ui-dialog-arrow-a,.ui-popup-top-right .ui-dialog-arrow-a{bottom:-16px;border-top:8px solid #7C7C7C}.ui-popup-top-left .ui-dialog-arrow-b,.ui-popup-top .ui-dialog-arrow-b,.ui-popup-top-right .ui-dialog-arrow-b{bottom:-15px;border-top:8px solid #fff}.ui-popup-top-left .ui-dialog-arrow-a,.ui-popup-top-left .ui-dialog-arrow-b{left:15px}.ui-popup-top .ui-dialog-arrow-a,.ui-popup-top .ui-dialog-arrow-b{left:50%;margin-left:-8px}.ui-popup-top-right .ui-dialog-arrow-a,.ui-popup-top-right .ui-dialog-arrow-b{right:15px}.ui-popup-bottom-left .ui-dialog-arrow-a,.ui-popup-bottom .ui-dialog-arrow-a,.ui-popup-bottom-right .ui-dialog-arrow-a{top:-16px;border-bottom:8px solid #7C7C7C}.ui-popup-bottom-left .ui-dialog-arrow-b,.ui-popup-bottom .ui-dialog-arrow-b,.ui-popup-bottom-right .ui-dialog-arrow-b{top:-15px;border-bottom:8px solid #fff}.ui-popup-bottom-left .ui-dialog-arrow-a,.ui-popup-bottom-left .ui-dialog-arrow-b{left:15px}.ui-popup-bottom .ui-dialog-arrow-a,.ui-popup-bottom .ui-dialog-arrow-b{margin-left:-8px;left:50%}.ui-popup-bottom-right .ui-dialog-arrow-a,.ui-popup-bottom-right .ui-dialog-arrow-b{right:15px}.ui-popup-left-top .ui-dialog-arrow-a,.ui-popup-left .ui-dialog-arrow-a,.ui-popup-left-bottom .ui-dialog-arrow-a{right:-16px;border-left:8px solid #7C7C7C}.ui-popup-left-top .ui-dialog-arrow-b,.ui-popup-left .ui-dialog-arrow-b,.ui-popup-left-bottom .ui-dialog-arrow-b{right:-15px;border-left:8px solid #fff}.ui-popup-left-top .ui-dialog-arrow-a,.ui-popup-left-top .ui-dialog-arrow-b{top:15px}.ui-popup-left .ui-dialog-arrow-a,.ui-popup-left .ui-dialog-arrow-b{margin-top:-8px;top:50%}.ui-popup-left-bottom .ui-dialog-arrow-a,.ui-popup-left-bottom .ui-dialog-arrow-b{bottom:15px}.ui-popup-right-top .ui-dialog-arrow-a,.ui-popup-right .ui-dialog-arrow-a,.ui-popup-right-bottom .ui-dialog-arrow-a{left:-16px;border-right:8px solid #7C7C7C}.ui-popup-right-top .ui-dialog-arrow-b,.ui-popup-right .ui-dialog-arrow-b,.ui-popup-right-bottom .ui-dialog-arrow-b{left:-15px;border-right:8px solid #fff}.ui-popup-right-top .ui-dialog-arrow-a,.ui-popup-right-top .ui-dialog-arrow-b{top:15px}.ui-popup-right .ui-dialog-arrow-a,.ui-popup-right .ui-dialog-arrow-b{margin-top:-8px;top:50%}.ui-popup-right-bottom .ui-dialog-arrow-a,.ui-popup-right-bottom .ui-dialog-arrow-b{bottom:15px}@-webkit-keyframes ui-dialog-loading{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-moz-keyframes ui-dialog-loading{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ui-dialog-loading{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}.ui-dialog-loading{vertical-align:middle;position:relative;display:block;*zoom:1;*display:inline;overflow:hidden;width:32px;height:32px;top:50%;margin:-16px auto 0 auto;font-size:0;text-indent:-999em;color:#666}.ui-dialog-loading{width:100%\\9;text-indent:0\\9;line-height:32px\\9;text-align:center\\9;font-size:12px\\9}.ui-dialog-loading::after{position:absolute;content:'';width:3px;height:3px;margin:14.5px 0 0 14.5px;-webkit-border-radius:100%;border-radius:100%;-webkit-box-shadow:0 -10px 0 1px #ccc,10px 0 #ccc,0 10px #ccc,-10px 0 #ccc,-7px -7px 0 .5px #ccc,7px -7px 0 1.5px #ccc,7px 7px #ccc,-7px 7px #ccc;box-shadow:0 -10px 0 1px #ccc,10px 0 #ccc,0 10px #ccc,-10px 0 #ccc,-7px -7px 0 .5px #ccc,7px -7px 0 1.5px #ccc,7px 7px #ccc,-7px 7px #ccc;-webkit-transform:rotate(360deg);-webkit-animation:ui-dialog-loading 1.5s infinite linear;-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);-moz-animation:ui-dialog-loading 1.5s infinite linear;animation:ui-dialog-loading 1.5s infinite linear;display:none\\9}";$("<style>"+i+"</style>").appendTo("head");var e={};return o("jquery",function(){return jQuery}),o("popup",function(t){function o(){this.destroyed=!1,this.__popup=i("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=i("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],e++}var i=t("jquery"),e=0,a=!("minWidth"in i("html")[0].style),r=!a;return i.extend(o.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(t){if(this.destroyed)return this;var e=this.__popup,n=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=t||this.follow,!this.__ready){if(e.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),a||i(window).on("resize",i.proxy(this.reset,this)),this.modal){var s={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||o.zIndex};e.addClass(this.className+"-modal"),r||i.extend(s,{position:"absolute",width:i(window).width()+"px",height:i(document).height()+"px"}),n.css(s).attr({tabindex:"0"}).on("focus",i.proxy(this.focus,this)),this.__mask=n.clone(!0).attr("style","").insertAfter(e),n.addClass(this.className+"-backdrop").insertBefore(e),this.__ready=!0}e.html()||e.html(this.innerHTML)}return e.addClass(this.className+"-show").show(),n.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(t){return!this.destroyed&&this.open&&(void 0!==t&&(this.returnValue=t),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),o.current===this&&(o.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),a||i(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var t in this)delete this[t];return this},reset:function(){var t=this.follow;return t?this.__follow(t):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var t=this.node,e=this.__popup,a=o.current,r=this.zIndex=o.zIndex++;if(a&&a!==this&&a.blur(!1),!i.contains(t,this.__getActive())){var n=e.find("[autofocus]")[0];!this._autofocus&&n?this._autofocus=!0:n=t,this.__focus(n)}return e.css("zIndex",r),o.current=this,e.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var t=this.__activeElement,o=arguments[0];return o!==!1&&this.__focus(t),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(t,o){return this.__getEventListener(t).push(o),this},removeEventListener:function(t,o){for(var i=this.__getEventListener(t),e=0;e<i.length;e++)o===i[e]&&i.splice(e--,1);return this},__getEventListener:function(t){var o=this.__listener;return o||(o=this.__listener={}),o[t]||(o[t]=[]),o[t]},__dispatchEvent:function(t){var o=this.__getEventListener(t);this["on"+t]&&this["on"+t]();for(var i=0;i<o.length;i++)o[i].call(this)},__focus:function(t){try{this.autofocus&&!/^iframe$/i.test(t.nodeName)&&t.focus()}catch(o){}},__getActive:function(){try{var t=document.activeElement,o=t.contentDocument,i=o&&o.activeElement||t;return i}catch(e){}},__center:function(){var t=this.__popup,o=i(window),e=i(document),a=this.fixed,r=a?0:e.scrollLeft(),n=a?0:e.scrollTop(),s=o.width(),u=o.height(),l=t.width(),p=t.height(),d=(s-l)/2+r,c=382*(u-p)/1e3+n,h=t[0].style;h.left=Math.max(parseInt(d),r)+"px",h.top=Math.max(parseInt(c),n)+"px"},__follow:function(t){var o=t.parentNode&&i(t),e=this.__popup;if(this.__followSkin&&e.removeClass(this.__followSkin),o){var a=o.offset();if(a.left*a.top<0)return this.__center()}var r=this,n=this.fixed,s=i(window),u=i(document),l=s.width(),p=s.height(),d=u.scrollLeft(),c=u.scrollTop(),h=e.width(),g=e.height(),f=o?o.outerWidth():0,b=o?o.outerHeight():0,m=this.__offset(t),w=m.left,x=m.top,_=n?w-d:w,v=n?x-c:x,k=n?0:d,y=n?0:c,z=k+l-h,F=y+p-g,C={},E=this.align.split(" "),L=this.className+"-",$={top:"bottom",bottom:"top",left:"right",right:"left"},I={top:"top",bottom:"top",left:"left",right:"left"},N=[{top:v-g,bottom:v+b,left:_-h,right:_+f},{top:v,bottom:v-g+b,left:_,right:_-h+f}],T={left:_+f/2-h/2,top:v+b/2-g/2},A={left:[k,z],top:[y,F]};i.each(E,function(t,o){N[t][o]>A[I[o]][1]&&(o=E[t]=$[o]),N[t][o]<A[I[o]][0]&&(E[t]=$[o])}),E[1]||(I[E[1]]="left"===I[E[0]]?"top":"left",N[1][E[1]]=T[I[E[1]]]),L+=E.join("-")+" "+this.className+"-follow",r.__followSkin=L,o&&e.addClass(L),C[I[E[0]]]=parseInt(N[0][E[0]]),C[I[E[1]]]=parseInt(N[1][E[1]]),e.css(C)},__offset:function(t){var o=t.parentNode,e=o?i(t).offset():{left:t.pageX,top:t.pageY};t=o?t:t.target;var a=t.ownerDocument,r=a.defaultView||a.parentWindow;if(r==window)return e;var n=r.frameElement,s=i(a),u=s.scrollLeft(),l=s.scrollTop(),p=i(n).offset(),d=p.left,c=p.top;return{left:e.left+d-u,top:e.top+c-l}}}),o.zIndex=1024,o.current=null,o}),o("dialog-config",{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><button i="close" class="ui-dialog-close">&#215;</button><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div><div i="button" class="ui-dialog-button"></div></td></tr></table></div>'}),o("dialog",function(t){var o=t("jquery"),i=t("popup"),e=t("dialog-config"),a=e.cssUri;if(a){var r=t[t.toUrl?"toUrl":"resolve"];r&&(a=r(a),a='<link rel="stylesheet" href="'+a+'" />',o("base")[0]?o("base").before(a):o("head").append(a))}var n=0,s=new Date-0,u=!("minWidth"in o("html")[0].style),l="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),p=!u&&!l,d=function(t,i,e){var a=t=t||{};("string"==typeof t||1===t.nodeType)&&(t={content:t,fixed:!l}),t=o.extend(!0,{},d.defaults,t),t.original=a;var r=t.id=t.id||s+n,u=d.get(r);return u?u.focus():(p||(t.fixed=!1),t.quickClose&&(t.modal=!0,t.backdropOpacity=0),o.isArray(t.button)||(t.button=[]),void 0!==e&&(t.cancel=e),t.cancel&&t.button.push({id:"cancel",value:t.cancelValue,callback:t.cancel,display:t.cancelDisplay}),void 0!==i&&(t.ok=i),t.ok&&t.button.push({id:"ok",value:t.okValue,callback:t.ok,autofocus:!0}),d.list[r]=new d.create(t))},c=function(){};c.prototype=i.prototype;var h=d.prototype=new c;return d.create=function(t){var e=this;o.extend(this,new i);var a=(t.original,o(this.node).html(t.innerHTML)),r=o(this.backdrop);return this.options=t,this._popup=a,o.each(t,function(t,o){"function"==typeof e[t]?e[t](o):e[t]=o}),t.zIndex&&(i.zIndex=t.zIndex),a.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").attr("title",this.cancelValue).on("click",function(t){e._trigger("cancel"),t.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),t.quickClose&&r.on("onmousedown"in document?"mousedown":"click",function(){return e._trigger("cancel"),!1}),this.addEventListener("show",function(){r.css({opacity:0,background:t.backdropBackground}).animate({opacity:t.backdropOpacity},150)}),this._esc=function(t){var o=t.target,a=o.nodeName,r=/^input|textarea$/i,n=i.current===e,s=t.keyCode;!n||r.test(a)&&"button"!==o.type||27===s&&e._trigger("cancel")},o(document).on("keydown",this._esc),this.addEventListener("remove",function(){o(document).off("keydown",this._esc),delete d.list[this.id]}),n++,d.oncreate(this),this},d.create.prototype=h,o.extend(h,{content:function(t){var i=this._$("content");return"object"==typeof t?(t=o(t),i.empty("").append(t.show()),this.addEventListener("beforeremove",function(){o("body").append(t.hide())})):i.html(t),this.reset()},title:function(t){return this._$("title").text(t),this._$("header")[t?"show":"hide"](),this},width:function(t){return this._$("content").css("width",t),this.reset()},height:function(t){return this._$("content").css("height",t),this.reset()},button:function(t){t=t||[];var i=this,e="",a=0;return this.callbacks={},"string"==typeof t?(e=t,a++):o.each(t,function(t,r){var n=r.id=r.id||r.value,s="";i.callbacks[n]=r.callback,r.display===!1?s=' style="display:none"':a++,e+='<button type="button" i-id="'+n+'"'+s+(r.disabled?" disabled":"")+(r.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+r.value+"</button>",i._$("button").on("click","[i-id="+n+"]",function(t){var e=o(this);e.attr("disabled")||i._trigger(n),t.preventDefault()})}),this._$("button").html(e),this._$("footer")[a?"show":"hide"](),this},statusbar:function(t){return this._$("statusbar").html(t)[t?"show":"hide"](),this},_$:function(t){return this._popup.find("[i="+t+"]")},_trigger:function(t){var o=this.callbacks[t];return"function"!=typeof o||o.call(this)!==!1?this.close().remove():this}}),d.oncreate=o.noop,d.getCurrent=function(){return i.current},d.get=function(t){return void 0===t?d.list:d.list[t]},d.list={},d.defaults=e,d}),t("dialog")});